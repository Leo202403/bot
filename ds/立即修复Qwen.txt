━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
立即修复 Qwen 决策文件（JSON 格式损坏）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔍 问题诊断结果：
   ❌ JSON 格式错误: Extra data: line 2104 column 3 (char 262400)
   
   原因：DeepSeek 错误使用 Qwen 配置期间，向 Qwen 的 ai_decisions.json 
        文件中重复写入数据，导致 JSON 格式损坏
   
   影响：
   - 综合页面只显示 DeepSeek 决策
   - Qwen 决策无法在综合页面显示
   - Qwen 单独页面也不显示决策

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 在服务器上执行以下一键修复命令：

cd /root/10-23-bot && git pull origin main && bash ds/修复Qwen决策文件.sh

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 修复脚本会自动完成：

1. 备份当前损坏的文件
   → ai_decisions.json.backup_日期时间

2. 尝试自动修复 JSON
   → 找到最后一个有效的决策记录
   → 删除多余的重复数据
   → 保存为有效的 JSON 格式

3. 如果自动修复失败
   → 使用时区修复前的备份文件
   → ai_decisions.json.bak_before_timezone_fix

4. 替换原文件并重启 Qwen AI

5. 验证修复结果
   → 检查 JSON 格式是否有效
   → 显示决策数量和最新决策时间

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 预期结果：
   - Qwen 的 ai_decisions.json 格式恢复正常
   - 决策数量：约 60-80 条（保留有效部分）
   - Qwen AI 重启后继续记录新决策
   - 刷新浏览器后，综合页面轮流显示两个模型的决策
   - Qwen 单独页面正常显示决策

📌 修复完成后：
   1. 等待 5 秒让 Qwen AI 完全启动
   2. 刷新前端浏览器（按 Ctrl+F5 强制刷新）
   3. 检查综合页面是否轮流显示 DeepSeek 和 Qwen 的决策
   4. 切换到 Qwen 单独页面，检查是否正常显示

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

