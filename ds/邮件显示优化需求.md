# ğŸ“§ é‚®ä»¶æ˜¾ç¤ºä¼˜åŒ–éœ€æ±‚ V7.9.2

## ğŸ¯ ç”¨æˆ·åé¦ˆçš„é—®é¢˜

### 1. **é‚®ä»¶å­—æ®µç¼ºå¤±** âŒ
**å½“å‰çŠ¶æ€ï¼š**
| å¸ç§ | æ—¶é—´ | ä¿¡å·åˆ† | å®é™…åˆ©æ¶¦ | æ—§å‚æ•°èƒ½æ•è· | æ–°å‚æ•°å¯æ•è· | åˆ†æ |
|------|------|--------|---------|------------|------------|------|
| SOL | 13:00 | 50 | +28.6% | âŒ | âŒ | ä¿¡å·åˆ†50<55 |

**é—®é¢˜ï¼š**
- âŒ åªæ˜¾ç¤º"å®é™…åˆ©æ¶¦"ï¼Œä¸çŸ¥é“æ—§/æ–°å‚æ•°æ•è·äº†å¤šå°‘
- âŒ "æ—§å‚æ•°èƒ½æ•è·"åªæ˜¾ç¤ºâœ…/âŒï¼Œçœ‹ä¸åˆ°å…·ä½“åˆ©æ¶¦
- âŒ æ—¶é—´åªæœ‰"13:00"ï¼Œä¸çŸ¥é“æ˜¯å“ªä¸€å¤©

**æœŸæœ›æ ¼å¼ï¼š**
| å¸ç§ | æ—¥æœŸæ—¶é—´ | ä¿¡å·åˆ† | å®é™…åˆ©æ¶¦ | æ—§å‚æ•°æ•è· | æ–°å‚æ•°æ•è· | æ•ˆç‡å¯¹æ¯” | åˆ†æ |
|------|----------|--------|---------|-----------|-----------|---------|------|
| SOL | 11-05 13:00 | 50 | +28.6% | 0% (æœªå…¥åœº) | 0% (æœªå…¥åœº) | N/A | ä¿¡å·åˆ†50<55 |
| BTC | 11-05 10:15 | 58 | +2.9% | +1.8% (æ­¢ç›ˆ) | +1.8% (æ­¢ç›ˆ) | 62%/62% | âœ… å‡å¯æ•è· |

---

### 2. **æ—¶é—´è¡¨è¿°ä¸å…·ä½“** âŒ
**å½“å‰ï¼š**
- "æ˜¨æ—¥"
- "è¿‡å»3å¤©"
- "è¿‡å»7å¤©æ¨¡æ‹Ÿ"

**åº”æ”¹ä¸ºï¼š**
- "2025-11-05"
- "2025-11-03 è‡³ 2025-11-05"
- "2025-10-30 è‡³ 2025-11-06ï¼ˆ7å¤©ï¼‰"

---

### 3. **æ³¢æ®µæœºä¼šä¿¡å·åˆ†éƒ½æ˜¯50** âœ…
**åˆ†æï¼š** è¿™æ˜¯æ­£å¸¸çš„ï¼
- æ³¢æ®µæœºä¼šä¸­ï¼Œä¿¡å·åˆ†50çš„éƒ½æ˜¯**è¢«é”™è¿‡çš„æœºä¼š**
- å› ä¸ºä¿¡å·åˆ†ä½äºé˜ˆå€¼ï¼ˆ55åˆ†ï¼‰ï¼Œæ‰€ä»¥æœªå…¥åœº
- è¿™äº›æœºä¼šçš„é«˜åˆ©æ¶¦ï¼ˆ+28%ï¼‰è¯´æ˜ç¡®å®æ˜¯å¥½æœºä¼šï¼Œä½†å‚æ•°è¿‡æ»¤æ‰äº†

---

### 4. **æ’åºé€»è¾‘** âœ…
**å½“å‰ï¼š** æŒ‰ `actual_profit_pct` é™åºæ’åº
**åˆç†æ€§ï¼š** âœ… åˆç†ï¼Œä¼˜å…ˆæ˜¾ç¤ºåˆ©æ¶¦æœ€é«˜çš„æœºä¼š

---

### 5. **æ³¢æ®µæ•æ‰ç‡è¯¯è§£** âœ…
**ç”¨æˆ·ç–‘é—®ï¼š** "æ³¢æ®µæ•æ‰ç‡æ˜¯0å—ï¼Ÿ"
**å®é™…æƒ…å†µï¼š**
```
âœ“ å‘ç°7213ä¸ªå®¢è§‚æœºä¼š
  â€¢ æ—§å‚æ•°: æ•è·6073ä¸ª(84.2%)  â† æ•æ‰ç‡84%ï¼
  â€¢ æ–°å‚æ•°: æ•è·6073ä¸ª(84.2%)  â† æ•æ‰ç‡84%ï¼
  â¡ï¸  æŒå¹³: æ•è·ç‡å’Œåˆ©æ¶¦æ— å˜åŒ–  â† "0%"æŒ‡çš„æ˜¯æ–°æ—§å‚æ•°ä¹‹é—´çš„å·®å¼‚
```

**è¯´æ˜ï¼š**
- æ•æ‰ç‡ = 84%ï¼ˆéå¸¸é«˜ï¼ï¼‰
- æ”¹è¿›å¹…åº¦ = 0%ï¼ˆæ–°æ—§å‚æ•°ç›¸åŒï¼‰

---

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### ä¿®å¤1ï¼šé‚®ä»¶è¡¨æ ¼å¢åŠ æ•è·åˆ©æ¶¦åˆ—

#### å½“å‰å­—æ®µï¼ˆ6åˆ—ï¼‰
1. å¸ç§
2. æ—¶é—´ï¼ˆHH:MMï¼‰
3. ä¿¡å·åˆ†
4. å®é™…åˆ©æ¶¦
5. æ—§å‚æ•°èƒ½æ•è·ï¼ˆâœ…/âŒï¼‰
6. æ–°å‚æ•°å¯æ•è·ï¼ˆâœ…/âŒï¼‰
7. åˆ†æ

#### æ–°å­—æ®µï¼ˆ8åˆ—ï¼‰
1. å¸ç§
2. **æ—¥æœŸæ—¶é—´**ï¼ˆMM-DD HH:MMï¼‰
3. ä¿¡å·åˆ†
4. **å®¢è§‚åˆ©æ¶¦**ï¼ˆå¸‚åœºå®é™…èµ°åŠ¿ï¼‰
5. **æ—§å‚æ•°æ•è·**ï¼ˆæ­¢ç›ˆ/æ­¢æŸè·å¾—çš„åˆ©æ¶¦ï¼‰
6. **æ–°å‚æ•°æ•è·**ï¼ˆæ­¢ç›ˆ/æ­¢æŸè·å¾—çš„åˆ©æ¶¦ï¼‰
7. **æ•ˆç‡**ï¼ˆæ•è·/å®¢è§‚ï¼‰
8. åˆ†æ/æ”¹è¿›æ•ˆæœ

#### ä»£ç ä¿®æ”¹ä½ç½®
**æ–‡ä»¶ï¼š** `deepseek_å¤šå¸ç§æ™ºèƒ½ç‰ˆ.py` å’Œ `qwen_å¤šå¸ç§æ™ºèƒ½ç‰ˆ.py`

**è¡¨å¤´ä¿®æ”¹ï¼ˆè¡Œ6872-6881ï¼‰ï¼š**
```html
<!-- å½“å‰ -->
<th>æ—¶é—´</th>
<th>å®é™…åˆ©æ¶¦</th>
<th>æ—§å‚æ•°<br>èƒ½æ•è·</th>
<th>æ–°å‚æ•°<br>å¯æ•è·</th>

<!-- ä¿®æ”¹ä¸º -->
<th>æ—¥æœŸæ—¶é—´</th>
<th>å®¢è§‚åˆ©æ¶¦</th>
<th>æ—§å‚æ•°<br>æ•è·åˆ©æ¶¦</th>
<th>æ–°å‚æ•°<br>æ•è·åˆ©æ¶¦</th>
<th>æ•è·<br>æ•ˆç‡</th>
```

**æ•°æ®è¡Œä¿®æ”¹ï¼ˆè¡Œ6884-6930ï¼‰ï¼š**
```python
# å½“å‰
time_str = f"{str(raw_time)[:2]}:{str(raw_time)[2:]}"  # åªæœ‰æ—¶é—´
actual_profit = opp.get('actual_profit_pct', 0)
old_status = 'âœ…' if old_can_entry else 'âŒ'
new_status = 'âœ…' if new_can_entry else 'âŒ'

# ä¿®æ”¹ä¸º
# 1. è·å–æ—¥æœŸ
date_str = opp.get('date', yesterday)  # éœ€è¦åœ¨opportunityå¯¹è±¡ä¸­æ·»åŠ æ—¥æœŸ
datetime_str = f"{date_str[4:6]}-{date_str[6:]} {time_str}"  # 11-05 13:00

# 2. è·å–æ•è·åˆ©æ¶¦å’Œæ•ˆç‡
actual_profit = opp.get('actual_profit_pct', 0)
old_captured_profit = opp.get('old_captured_profit', 0)
new_captured_profit = opp.get('new_captured_profit', 0)
old_efficiency = opp.get('old_efficiency', 0)
new_efficiency = opp.get('new_efficiency', 0)

# 3. æ ¼å¼åŒ–æ˜¾ç¤º
if old_can_entry:
    old_display = f"+{old_captured_profit:.1f}%<br>({opp.get('old_exit_type', 'N/A')})"
else:
    old_display = "æœªå…¥åœº"

if new_can_entry:
    new_display = f"+{new_captured_profit:.1f}%<br>({opp.get('new_exit_type', 'N/A')})"
else:
    new_display = "æœªå…¥åœº"

efficiency_display = f"{old_efficiency:.0f}% / {new_efficiency:.0f}%"
```

---

### ä¿®å¤2ï¼šå°†"æ˜¨æ—¥"ç­‰æ”¹ä¸ºå…·ä½“æ—¥æœŸ

#### ä½ç½®1ï¼šå¹³ä»“æ—¶æœºåˆ†ææ ‡é¢˜
**æ–‡ä»¶è¡Œå·ï¼š** çº¦6820è¡Œ
```python
# å½“å‰
<h3>ğŸšª å¹³ä»“æ—¶æœºåˆ†æï¼ˆæ˜¨æ—¥ï¼‰</h3>

# ä¿®æ”¹ä¸º
yesterday_date = datetime.strptime(yesterday, "%Y%m%d").strftime("%Y-%m-%d")
<h3>ğŸšª å¹³ä»“æ—¶æœºåˆ†æï¼ˆ{yesterday_date}ï¼‰</h3>
```

#### ä½ç½®2ï¼šæœºä¼šæ•è·å¯¹æ¯”æ ‡é¢˜
```python
# å½“å‰
ğŸ“Š æ€»ç»“ï¼šæ˜¨æ—¥è¯†åˆ«åˆ°7213ä¸ªå®¢è§‚æœºä¼š

# ä¿®æ”¹ä¸º
ğŸ“Š æ€»ç»“ï¼š{yesterday_date}è¯†åˆ«åˆ°7213ä¸ªå®¢è§‚æœºä¼š
```

#### ä½ç½®3ï¼šå›æµ‹è¯´æ˜
```python
# å½“å‰
ğŸ“Š å›æµ‹è¡¨ç°ï¼ˆè¿‡å»7å¤©æ¨¡æ‹Ÿï¼‰

# ä¿®æ”¹ä¸º
å›æµ‹_start_date = (datetime.now() - timedelta(days=7)).strftime("%Y-%m-%d")
å›æµ‹_end_date = datetime.now().strftime("%Y-%m-%d")
ğŸ“Š å›æµ‹è¡¨ç°ï¼ˆ{å›æµ‹_start_date} è‡³ {å›æµ‹_end_date}ï¼Œå…±7å¤©ï¼‰
```

---

### ä¿®å¤3ï¼šåœ¨opportunityå¯¹è±¡ä¸­æ·»åŠ æ—¥æœŸ

**æ–‡ä»¶ï¼š** `analyze_opportunities_with_new_params` å‡½æ•°ï¼ˆçº¦15230è¡Œï¼‰

**å½“å‰ï¼š**
```python
opportunity = {
    'coin': coin,
    'time': timestamp,  # åªæœ‰æ—¶é—´ï¼ˆHHMMæ ¼å¼ï¼‰
    ...
}
```

**ä¿®æ”¹ä¸ºï¼š**
```python
# ä»market_snapshotsä¸­è·å–å®Œæ•´çš„æ—¥æœŸ
snapshot_date = coin_data.iloc[idx].get('date', yesterday)  # å‡è®¾æœ‰dateåˆ—
if not snapshot_date:
    # å¦‚æœæ²¡æœ‰dateåˆ—ï¼Œä»æ–‡ä»¶åæˆ–å…¶ä»–åœ°æ–¹æ¨æ–­
    snapshot_date = yesterday

opportunity = {
    'coin': coin,
    'time': timestamp,  # HHMMæ ¼å¼
    'date': snapshot_date,  # YYYYMMDDæ ¼å¼
    ...
}
```

---

## ğŸ“Š ä¿®å¤åçš„æ•ˆæœ

### é‚®ä»¶è¡¨æ ¼ç¤ºä¾‹ï¼ˆè¶…çŸ­çº¿ï¼‰

| å¸ç§ | æ—¥æœŸæ—¶é—´ | ä¿¡å·åˆ† | å®¢è§‚åˆ©æ¶¦ | æ—§å‚æ•°æ•è· | æ–°å‚æ•°æ•è· | æ•ˆç‡ | åˆ†æ/æ”¹è¿› |
|------|----------|--------|---------|-----------|-----------|------|----------|
| BTC | 11-05 23:00 | 63 | +3.0% | +1.8% (æ­¢ç›ˆ) | +1.8% (æ­¢ç›ˆ) | 60%/60% | âœ… å‡å¯æ•è· |
| LTC | 11-05 20:00 | 60 | +3.0% | +1.5% (æ­¢æŸ) | +1.5% (æ­¢æŸ) | 50%/50% | âœ… å‡å¯æ•è· |
| BTC | 11-05 11:30 | 50 | +2.9% | æœªå…¥åœº | æœªå…¥åœº | N/A | ä¿¡å·åˆ†50<55 |

### æ§åˆ¶å°è¾“å‡ºç¤ºä¾‹
```
ã€ç¬¬4.5æ­¥ï¼šç”¨æ–°å‚æ•°é‡æ–°è¯„ä¼°å†å²æœºä¼šï¼ˆ2025-11-05ï¼‰ã€‘
âœ“ å‘ç°7213ä¸ªå®¢è§‚æœºä¼šï¼ˆ2025-10-30 è‡³ 2025-11-05ï¼Œè¦†ç›–7å¤©ï¼‰
  ğŸ“Š å®¢è§‚å¹³å‡åˆ©æ¶¦: 10.9%
  â€¢ æ—§å‚æ•°ï¼ˆR:R=1.5, ATR=1.25ï¼‰: 
    - æ•è·6073ä¸ª(84.2%) 
    - å¹³å‡æ•è·0.8% 
    - å¹³å‡æ•ˆç‡7%
  â€¢ æ–°å‚æ•°ï¼ˆR:R=1.5, ATR=1.40ï¼‰: 
    - æ•è·6073ä¸ª(84.2%) 
    - å¹³å‡æ•è·0.8% 
    - å¹³å‡æ•ˆç‡7%
  â¡ï¸  æŒå¹³: æ•è·ç‡å’Œåˆ©æ¶¦æ— å˜åŒ–

  ğŸ“Œ é‡ç‚¹å…³æ³¨ï¼ˆé”™è¿‡çš„TOP3ï¼‰:
     SOL (11-05 13:00): å®¢è§‚+28.6% | æœªæ•è· | åŸå› : ä¿¡å·åˆ†50<55
     SOL (11-05 14:15): å®¢è§‚+28.4% | æœªæ•è· | åŸå› : ä¿¡å·åˆ†50<55
     SOL (11-05 12:45): å®¢è§‚+28.3% | æœªæ•è· | åŸå› : ä¿¡å·åˆ†50<55
```

---

## ğŸ¯ ä¼˜å…ˆçº§

### P0ï¼ˆå¿…é¡»ä¿®å¤ï¼‰
1. âœ… æ·»åŠ æ•è·åˆ©æ¶¦åˆ—ï¼ˆæœ€é‡è¦ï¼ï¼‰
2. âœ… æ—¶é—´æ”¹ä¸º"æ—¥æœŸ+æ—¶é—´"
3. âœ… æ·»åŠ æ•è·æ•ˆç‡åˆ—

### P1ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
4. âœ… "æ˜¨æ—¥"æ”¹ä¸ºå…·ä½“æ—¥æœŸ
5. âœ… "è¿‡å»Xå¤©"æ”¹ä¸ºæ—¥æœŸèŒƒå›´

### P2ï¼ˆå¯é€‰ï¼‰
6. âœ… åœ¨æ§åˆ¶å°è¾“å‡ºä¸­ä¹Ÿæ˜¾ç¤ºæ—¥æœŸ
7. âœ… å¢åŠ "å›æµ‹æ—¥æœŸèŒƒå›´"è¯´æ˜

---

## ğŸ’¡ ç”¨æˆ·å…¶ä»–ç–‘é—®çš„ç­”æ¡ˆ

### Q1: å›æµ‹æœ¬èº«ä¼šå¯¼è‡´AIè°ƒæ•´ç­–ç•¥å—ï¼Ÿ
**A:** æ˜¯çš„ï¼å›æµ‹æµç¨‹æ˜¯ï¼š
1. è¯»å–å†å²æ•°æ®ï¼ˆ7-14å¤©å¸‚åœºå¿«ç…§ï¼‰
2. æµ‹è¯•æ•°ç™¾ç§å‚æ•°ç»„åˆ
3. æ‰¾åˆ°å†å²è¡¨ç°æœ€å¥½çš„å‚æ•°
4. **è‡ªåŠ¨æ›´æ–°åˆ°é…ç½®æ–‡ä»¶**
5. ä¸‹æ¬¡è¿è¡Œæ—¶ä½¿ç”¨æ–°å‚æ•°

### Q2: æ˜¯å¦éœ€è¦é’ˆå¯¹æ³¢æ®µåšæ›´å¤šä¼˜åŒ–ï¼Ÿ
**A:** å½“å‰ä¼˜åŒ–å·²ç»å¾ˆå…¨é¢ï¼š
- æ³¢æ®µæ•æ‰ç‡ï¼š84%ï¼ˆéå¸¸é«˜ï¼ï¼‰
- ä½†æ•è·æ•ˆç‡ä½ï¼š-0%ï¼ˆè¯´æ˜æ­¢ç›ˆæ­¢æŸè®¾ç½®å¯èƒ½è¿‡äºä¿å®ˆï¼‰
- **å»ºè®®ï¼š** å¯ä»¥å°è¯•å¢åŠ ATRæ­¢æŸå€æ•°ï¼Œè®©æ³¢æ®µäº¤æ˜“æ‹¿æ›´å¤šåˆ©æ¶¦

### Q3: ä¸ºä»€ä¹ˆæ–°æ—§å‚æ•°è¡¨ç°ä¸€æ ·ï¼Ÿ
**A:** ä¸¤ä¸ªåŸå› ï¼š
1. å‚æ•°å·®å¼‚å°ï¼ˆATRä»1.25â†’1.40ï¼Œå˜åŒ–ä¸å¤§ï¼‰
2. ä¸»è¦é”™è¿‡çš„æœºä¼šéƒ½æ˜¯ä¿¡å·åˆ†<55çš„ï¼Œå‚æ•°è°ƒæ•´æ— æ³•æ•è·

---

**ä¿®å¤äººå‘˜ï¼š** AI Assistant  
**æ–‡æ¡£æ—¶é—´ï¼š** 2025-11-06  
**æ¶‰åŠç‰ˆæœ¬ï¼š** V7.9.2ï¼ˆè®¡åˆ’ï¼‰


