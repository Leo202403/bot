━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
V8.3.21 检查并清理多余进程
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 在服务器上执行（一键命令）：

cd /root/10-23-bot && git pull origin main && cd ds && bash 检查并清理进程.sh

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 脚本功能：

1. ✅ 检查Supervisor状态
2. ✅ 列出所有Python进程详情
3. ✅ 统计各类进程数量
4. ✅ 识别多余的Qwen进程（正常应该1个）
5. ✅ 识别多余的DeepSeek进程（正常应该1个）
6. ✅ 识别卡住的回测进程
7. ✅ 一键停止所有多余进程
8. ✅ 检查前端进程状态

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔍 正常进程配置：

应该有的进程：
  • Qwen AI: 1个
  • DeepSeek AI: 1个
  • 前端: 1个
  • 总计: 3个核心进程

临时进程：
  • 回测进程: 回测时存在，完成后自动退出

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️  可能的问题进程：

1. 多个Qwen进程
   原因：重启时旧进程未停止
   解决：保留最新的，停止旧的

2. 多个DeepSeek进程
   原因：重启时旧进程未停止
   解决：保留最新的，停止旧的

3. 卡住的回测进程
   原因：回测完成但进程未退出
   解决：手动停止

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 脚本特点：

• 自动识别问题进程
• 保留最新进程，停止旧进程
• 交互式确认，防止误操作
• 清理后自动显示最新状态

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔧 手动清理（如果需要）：

# 查看所有Python进程
ps aux | grep python | grep -v grep

# 查看具体的Qwen进程
ps aux | grep qwen_多币种智能版.py | grep -v grep

# 查看具体的DeepSeek进程
ps aux | grep deepseek_多币种智能版.py | grep -v grep

# 停止指定PID的进程
kill -9 <PID>

# 重启Supervisor管理的服务
supervisorctl restart qwen
supervisorctl restart deepseek

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

