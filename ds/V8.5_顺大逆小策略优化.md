# V8.5 "é¡ºå¤§é€†å°"ç­–ç•¥ä¼˜åŒ–è¯´æ˜

## ä¼˜åŒ–åŠ¨æœº

**é—®é¢˜è¯Šæ–­**ï¼šå¤šå‘¨æœŸå®Œå…¨å…±æŒ¯è¦æ±‚ï¼ˆ4H+1H+15måŒå‘ï¼‰å¯¼è‡´å…¥åœºæ»åï¼Œå½“ä¸‰ä¸ªå‘¨æœŸä¿¡å·å®Œå…¨ä¸€è‡´æ—¶ï¼Œè¶‹åŠ¿å¾€å¾€å·²èµ°å®Œå¤§åŠï¼Œæ­¤æ—¶å…¥åœºç›ˆäºæ¯”æå·®ï¼Œå®¹æ˜“"æ¥æœ€åä¸€æ£’"ã€‚

**æ ¸å¿ƒç†å¿µ**ï¼šé¡ºå¤§é€†å° - åœ¨å¤§å‘¨æœŸï¼ˆ4Hï¼‰è¶‹åŠ¿æ˜ç¡®çš„èƒŒæ™¯ä¸‹ï¼Œäºå°å‘¨æœŸï¼ˆ15mï¼‰å‡ºç°å›è°ƒ/è¶…å–æ—¶å…¥åœºï¼Œè€Œéç­‰å¾…æ‰€æœ‰å‘¨æœŸéƒ½å˜æˆå¼ºåŠ¿ä¿¡å·æ—¶è¿½æ¶¨ã€‚

---

## æ ¸å¿ƒä¿®æ”¹

### 1. é‡æ„è¯„åˆ†ä¼˜å…ˆçº§ï¼ˆ`calculate_swing_score` å‡½æ•°ï¼‰

#### ä¿®æ”¹å‰çš„é—®é¢˜
```python
# æ—§é€»è¾‘ï¼šä¸‰å‘¨æœŸå®Œå…¨å…±æŒ¯ç»™æœ€é«˜åˆ†
if aligned_count >= 3:
    score += 35  # ä¸‰å‘¨æœŸå…±æŒ¯ï¼ âŒ æ»åå…¥åœº
```

#### ä¿®æ”¹åçš„é€»è¾‘
```python
# æ–°é€»è¾‘ï¼šé¡ºå¤§é€†å° > å®Œç¾å…±æŒ¯
# ã€é»„é‡‘ç»„åˆã€‘4Hè¶‹åŠ¿ + 15må›è°ƒ
if (is_4h_strong or is_4h_bullish or is_4h_bearish) and is_15m_pullback:
    if pullback_strength >= 2:
        score += 45  # ğŸ¯ğŸ¯ å¼ºåŠ¿å›è°ƒï¼ˆè¶‹åŠ¿æ˜ç¡® + RSI+å‘¨æœŸåŒé‡å›è°ƒï¼‰
    else:
        score += 35  # ğŸ¯ æ™®é€šå›è°ƒ

# ã€ä¿å®ˆã€‘ä¸‰å‘¨æœŸå®Œå…¨å…±æŒ¯
if aligned_count >= 3:
    score += 15  # âš ï¸ å®Œç¾å…±æŒ¯ï¼Œä½†å¯èƒ½å·²æ»åï¼ˆä»35é™è‡³15ï¼‰
```

---

### 2. å›è°ƒä¿¡å·è¯†åˆ«é€»è¾‘

#### å¤šå¤´è¶‹åŠ¿ä¸­çš„å›è°ƒä¿¡å·
```python
if is_4h_bullish:
    # æ¡ä»¶1ï¼š15må‘¨æœŸè½¬å¼±æˆ–åå‘
    if 'è½¬å¼±' in trend_15m or 'ç©ºå¤´' in trend_15m:
        pullback_strength += 1
    
    # æ¡ä»¶2ï¼šRSIè¶…å–
    if rsi < 35:
        pullback_strength += 1
```

#### ç©ºå¤´è¶‹åŠ¿ä¸­çš„å›è°ƒä¿¡å·
```python
if is_4h_bearish:
    # æ¡ä»¶1ï¼š15må‘¨æœŸè½¬å¼±æˆ–åå‘
    if 'è½¬å¼±' in trend_15m or 'å¤šå¤´' in trend_15m:
        pullback_strength += 1
    
    # æ¡ä»¶2ï¼šRSIè¶…ä¹°
    if rsi > 65:
        pullback_strength += 1
```

**å›è°ƒå¼ºåº¦åˆ†çº§**ï¼š
- `pullback_strength = 2`ï¼šå‘¨æœŸ+RSIåŒé‡ç¡®è®¤ â†’ +45åˆ†
- `pullback_strength = 1`ï¼šå•ä¸€å›è°ƒä¿¡å· â†’ +35åˆ†

---

### 3. RSIå‡åˆ†é€»è¾‘è°ƒæ•´

#### ä¿®æ”¹å‰
```python
# æ—§é€»è¾‘ï¼šæç«¯RSIæ— æ¡ä»¶å‡åˆ†
if rsi > 75 or rsi < 25:
    score -= 10  # âŒ å¿½è§†äº†å›è°ƒå…¥åœºä»·å€¼
```

#### ä¿®æ”¹å
```python
# æ–°é€»è¾‘ï¼šåªæƒ©ç½š"é€†å‘"çš„æç«¯å€¼
if is_4h_bullish and rsi > 75:
    score -= 10  # å¤šå¤´è¶‹åŠ¿ä¸­è¶…ä¹°ï¼Œè­¦æƒ•
elif is_4h_bearish and rsi < 25:
    score -= 10  # ç©ºå¤´è¶‹åŠ¿ä¸­è¶…å–ï¼Œè­¦æƒ•
# é¡ºåŠ¿å›è°ƒçš„è¶…å–/è¶…ä¹°ï¼ˆå¦‚å¤šå¤´+è¶…å–ï¼‰å·²åœ¨å‰é¢åŠ åˆ†ï¼Œä¸å†å‡åˆ†
```

---

### 4. å›è°ƒå½¢æ€æƒé‡ä¼˜åŒ–

```python
# ç®€å•å›è°ƒä¿¡å·ä¸å¤§å‘¨æœŸé…åˆ
if pullback_type.get("signal") == "entry_ready":
    if is_4h_strong:
        score += 35  # ğŸ¯ğŸ¯ å¼ºåŠ¿è¶‹åŠ¿ä¸­çš„å›è°ƒ
    else:
        score += 25  # ğŸ¯ æ™®é€šå›è°ƒ
```

---

## è¯„åˆ†æƒé‡å¯¹æ¯”

| ä¿¡å·ç»„åˆ | æ—§æƒé‡ | æ–°æƒé‡ | è¯´æ˜ |
|---------|-------|-------|------|
| **4Hå¼ºåŠ¿ + 15må›è°ƒ(åŒé‡ç¡®è®¤)** | - | **+45åˆ†** | ğŸ¯ æ–°å¢é»„é‡‘å…¥åœºç‚¹ |
| **4Hè¶‹åŠ¿ + 15må›è°ƒ(å•ç¡®è®¤)** | - | **+35åˆ†** | ğŸ¯ æ¬¡ä¼˜å…¥åœºç‚¹ |
| **4H+1HåŒå‘ + 15må›è°ƒ** | - | **+30åˆ†** | ğŸ“ˆ ä¿å®ˆå…¥åœº |
| **ä¸‰å‘¨æœŸå®Œå…¨å…±æŒ¯** | +35åˆ† | **+15åˆ†** | âš ï¸ é™ä½æƒé‡ï¼ˆæ»åé£é™©ï¼‰ |
| ä¸¤å‘¨æœŸå…±æŒ¯ | +20åˆ† | +20åˆ† | ç»´æŒä¸å˜ |

---

## ç­–ç•¥ä¼˜åŠ¿

### 1. æ›´ä¼˜çš„ç›ˆäºæ¯”
- **æ—§ç­–ç•¥**ï¼šç­‰ä¸‰å‘¨æœŸå…±æŒ¯ â†’ åœ¨è¶‹åŠ¿ä¸­åæœŸå…¥åœº â†’ é«˜ä½æ¥ç›˜
- **æ–°ç­–ç•¥**ï¼šå¤§å‘¨æœŸç¡®è®¤ + å°å‘¨æœŸå›è°ƒ â†’ åœ¨è¶‹åŠ¿å›è°ƒä½ç‚¹å…¥åœº â†’ ä½ä½å¸ƒå±€

### 2. æ›´æ—©çš„å…¥åœºæ—¶æœº
- åœ¨è¶‹åŠ¿çš„"å‘¼å¸"ä¸­ä»‹å…¥ï¼Œè€Œéåœ¨"å†²åˆº"æ—¶è¿½é«˜
- ç¬¦åˆ"è¶‹åŠ¿+å›è°ƒ"çš„ç»å…¸äº¤æ˜“é€»è¾‘

### 3. æ›´æ™ºèƒ½çš„RSIä½¿ç”¨
- ä¸å†ç®€å•åœ°æƒ©ç½šæç«¯RSI
- åŒºåˆ†"é¡ºåŠ¿å›è°ƒ"ï¼ˆå¥½ä¿¡å·ï¼‰å’Œ"é€†åŠ¿æç«¯"ï¼ˆåä¿¡å·ï¼‰

### 4. é£é™©ç®¡ç†
- å¤§å‘¨æœŸä½œä¸º"å®‰å…¨å±éšœ"ï¼Œé¿å…é€†åŠ¿æŠ„åº•
- å°å‘¨æœŸå›è°ƒä½œä¸º"å…¥åœºè§¦å‘"ï¼Œä¼˜åŒ–æˆæœ¬

---

## å®æˆ˜åœºæ™¯å¯¹æ¯”

### åœºæ™¯1ï¼šè¶‹åŠ¿å‘å±•ä¸­æœŸ

**å¸‚åœºçŠ¶æ€**ï¼š
- 4Hï¼šå¼ºåŠ¿å¤šå¤´ï¼ˆEMAå‘æ•£è‰¯å¥½ï¼‰
- 1Hï¼šå¤šå¤´
- 15mï¼šçŸ­æš‚å›è°ƒè‡³è¶…å–ï¼ˆRSI=30ï¼‰

**æ—§ç­–ç•¥**ï¼šç­‰å¾…15mä¹Ÿå˜å¤šå¤´ â†’ ä¸‰å‘¨æœŸå…±æŒ¯+35åˆ† â†’ åœ¨åå¼¹åé«˜ä½å…¥åœº

**æ–°ç­–ç•¥**ï¼š4Hå¼ºåŠ¿+15mè¶…å–å›è°ƒ â†’ åŒé‡ç¡®è®¤+45åˆ† â†’ åœ¨å›è°ƒä½ç‚¹å…¥åœº âœ…

---

### åœºæ™¯2ï¼šè¶‹åŠ¿æœ«æœŸ

**å¸‚åœºçŠ¶æ€**ï¼š
- 4Hï¼šå¤šå¤´ï¼ˆä½†EMAå‘æ•£å‡å¼±ï¼‰
- 1Hï¼šå¤šå¤´è½¬å¼±
- 15mï¼šå¤šå¤´ï¼ˆåˆšè½¬å¼ºï¼‰

**æ—§ç­–ç•¥**ï¼šä¸‰å‘¨æœŸå…±æŒ¯ â†’ +35åˆ† â†’ å¯èƒ½æ¥æœ€åä¸€æ£’ âŒ

**æ–°ç­–ç•¥**ï¼šæ— æ˜æ˜¾å›è°ƒä¿¡å· â†’ ä»…+15åˆ† â†’ é¿å…è¿½é«˜ âœ…

---

## æ³¨æ„äº‹é¡¹

1. **å›è°ƒè¯†åˆ«çš„å‡†ç¡®æ€§**ï¼šéœ€è¦ç¡®ä¿ `trend_15m` å­—æ®µï¼ˆ"è½¬å¼±"/"åå‘"ï¼‰å’ŒRSIæ•°æ®çš„å‡†ç¡®æ€§

2. **å‡å›è°ƒé£é™©**ï¼šå°å‘¨æœŸå›è°ƒå¯èƒ½æ˜¯è¶‹åŠ¿åè½¬çš„å¼€å§‹ï¼Œéœ€é…åˆå…¶ä»–æ­¢æŸæœºåˆ¶

3. **äº¤æ˜“é¢‘ç‡**ï¼šå›è°ƒä¿¡å·æ¯”å®Œç¾å…±æŒ¯æ›´é¢‘ç¹ï¼Œå¯èƒ½å¢åŠ äº¤æ˜“æ¬¡æ•°ï¼ˆéœ€ç›‘æ§èƒœç‡ï¼‰

4. **å‚æ•°è°ƒä¼˜**ï¼š
   - RSIé˜ˆå€¼ï¼ˆå½“å‰ï¼šå¤š35/ç©º65ï¼‰å¯æ ¹æ®å›æµ‹ä¼˜åŒ–
   - å›è°ƒå¼ºåº¦è®¡åˆ†å¯æ ¹æ®å®ç›˜è¡¨ç°è°ƒæ•´

---

## å›æµ‹å»ºè®®

1. **å¯¹æ¯”æµ‹è¯•**ï¼š
   - Aç»„ï¼šä½¿ç”¨æ—§é€»è¾‘ï¼ˆä¸‰å‘¨æœŸå…±æŒ¯ä¼˜å…ˆï¼‰
   - Bç»„ï¼šä½¿ç”¨æ–°é€»è¾‘ï¼ˆé¡ºå¤§é€†å°ä¼˜å…ˆï¼‰
   - å¯¹æ¯”ï¼šèƒœç‡ã€ç›ˆäºæ¯”ã€æœ€å¤§å›æ’¤

2. **å…³é”®æŒ‡æ ‡**ï¼š
   - å…¥åœºç‚¹ä½è´¨é‡ï¼ˆæ˜¯å¦åœ¨è¶‹åŠ¿å›è°ƒä½ç‚¹ï¼‰
   - å¹³å‡æŒä»“æ”¶ç›Šç‡
   - "æ¥æœ€åä¸€æ£’"çš„æ¬¡æ•°ï¼ˆè¶‹åŠ¿æœ«æœŸå…¥åœºå æ¯”ï¼‰

3. **å‚æ•°æ•æ„Ÿæ€§æµ‹è¯•**ï¼š
   - RSIé˜ˆå€¼ï¼ˆ30/35/40 for å¤šå¤´è¶…å–ï¼‰
   - å›è°ƒå¼ºåº¦æƒé‡ï¼ˆ35/40/45åˆ†ï¼‰

---

## ä¿®æ”¹æ–‡ä»¶

**ä¸»æ–‡ä»¶**ï¼š`ds/qwen_å¤šå¸ç§æ™ºèƒ½ç‰ˆ.py`

**ä¿®æ”¹å‡½æ•°**ï¼š`calculate_swing_score()` (çº¦17385-17480è¡Œ)

**ç‰ˆæœ¬æ ‡è®°**ï¼šV8.5

---

## è‡´è°¢

æ„Ÿè°¢ç”¨æˆ·æœ‹å‹å¯¹"å¤šå‘¨æœŸå…±æŒ¯ä¼ªå‘½é¢˜"çš„ç²¾å‡†æ´å¯Ÿï¼Œè¿™æ˜¯ç»å…¸äº¤æ˜“æ™ºæ…§çš„ä½“ç°ã€‚

