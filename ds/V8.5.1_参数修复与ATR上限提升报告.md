# V8.5.1 å‚æ•°ä¿®å¤ä¸ATRä¸Šé™æå‡æŠ¥å‘Š

**ç‰ˆæœ¬**: V8.5.1  
**æ—¥æœŸ**: 2025-11-14  
**æ ¸å¿ƒç›®æ ‡**: ä¿®å¤learning_config.jsonå‚æ•° + æé«˜åŠ¨æ€ATRä¸Šé™

---

## ğŸš¨ é—®é¢˜è¯Šæ–­

### å›æµ‹ç»“æœåˆ†æ

**V8.5å›æµ‹ç»“æœ**ï¼š
- âœ… æ€»åˆ©æ¶¦ä¸ºæ­£ï¼š5.7-5.8%
- âŒ Qwenæ•è·ç‡åªæœ‰12.9%ï¼ˆåº”è¯¥80-100%ï¼‰
- âœ… DeepSeekæ•è·ç‡100%
- âŒ å®é™…/ç†è®ºåˆ©æ¶¦æ¯”ä¾‹28.5-40.5%ï¼ˆç›®æ ‡50-70%ï¼‰

### æ ¹æœ¬åŸå› 

#### 1. Qwençš„`learning_config.json`å‚æ•°é”™è¯¯

**å‘ç°çš„é—®é¢˜**ï¼š

```json
// Qwenå½“å‰é…ç½®
"scalping_params": {
  "atr_tp_multiplier": 1.5,         â† âŒ å¤ªä½ï¼åº”è¯¥æ˜¯2.5
  "min_indicator_consensus": 2,     â† âŒ å¤ªä¸¥æ ¼ï¼åº”è¯¥æ˜¯1
}

"swing_params": {
  "min_signal_score": 70,           â† âŒ å¤ªé«˜ï¼åº”è¯¥æ˜¯60
  "min_indicator_consensus": 2,     â† âŒ å¤ªä¸¥æ ¼ï¼åº”è¯¥æ˜¯1
  "min_risk_reward": 3.0,           â† âŒ å¤ªé«˜ï¼åº”è¯¥æ˜¯2.0
  "atr_tp_multiplier": (ç¼ºå¤±)       â† âŒ ç¼ºå¤±ï¼åº”è¯¥æ˜¯4.0
}
```

**å¯¹æ¯”DeepSeekï¼ˆæ­£å¸¸ï¼‰**ï¼š
```json
"scalping_params": {
  "atr_tp_multiplier": 2.5,         â† âœ… æ­£ç¡®
  "min_indicator_consensus": 1,     â† âœ… æ­£ç¡®
}

"swing_params": {
  "atr_tp_multiplier": 4.0,         â† âœ… æ­£ç¡®
  "min_signal_score": 60,           â† âœ… æ­£ç¡®
  "min_indicator_consensus": 1,     â† âœ… æ­£ç¡®
  "min_risk_reward": 2.0,           â† âœ… æ­£ç¡®
}
```

**å½±å“**ï¼š
- Qwençš„TPå€æ•°å¤ªä½ï¼ˆ1.5 vs 2.5ï¼‰
- è¿‡æ»¤æ¡ä»¶å¤ªä¸¥æ ¼ï¼ˆå…±è¯†â‰¥2ï¼Œä¿¡å·åˆ†â‰¥70ï¼ŒR:Râ‰¥3.0ï¼‰
- å¯¼è‡´å¤§é‡æœºä¼šè¢«è¿‡æ»¤ï¼Œæ•è·ç‡åªæœ‰12.9%

---

#### 2. åŠ¨æ€ATRä¸Šé™å¤ªä¿å®ˆ

**å½“å‰ä¸Šé™**ï¼ˆV8.4.9.3ï¼‰ï¼š
```python
if signal_type == 'scalping':
    min_tp, max_tp = 2.0, 6.0   â† ä¸Šé™6.0
else:  # swing
    min_tp, max_tp = 3.0, 10.0  â† ä¸Šé™10.0
```

**å®é™…æƒ…å†µ**ï¼š
```
[1] ç†è®º22.4% / ATR0.66% = 34.05 â†’ 70%=23.83 â†’ æœ€ç»ˆ=6.00  â† è¢«é™åˆ¶
[2] ç†è®º20.9% / ATR0.54% = 38.67 â†’ 70%=27.07 â†’ æœ€ç»ˆ=6.00  â† è¢«é™åˆ¶
[3] ç†è®º40.9% / ATR1.85% = 22.16 â†’ 70%=15.51 â†’ æœ€ç»ˆ=10.00 â† è¢«é™åˆ¶
```

**å½±å“**ï¼š
- å¾ˆå¤šé«˜ç†è®ºåˆ©æ¶¦çš„æœºä¼šï¼ˆ20-40%ï¼‰è¢«é™åˆ¶åœ¨ä¸Šé™
- å¯¼è‡´å®é™…/ç†è®ºåˆ©æ¶¦æ¯”ä¾‹åªæœ‰28.5-40.5%
- è¿œä½äº50-70%çš„ç›®æ ‡

---

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### 1. ä¿®å¤`learning_config.json`å‚æ•°

**åˆ›å»ºè‡ªåŠ¨ä¿®å¤è„šæœ¬**ï¼š`fix_learning_config_v8_5_1.py`

#### ä¿®å¤å†…å®¹

**Scalpingå‚æ•°**ï¼š
```json
{
  "atr_tp_multiplier": 2.5,          // ä»1.5æé«˜åˆ°2.5
  "atr_stop_multiplier": 1.5,        // æ ‡å‡†å€¼
  "min_signal_score": 60,            // ä¿æŒåˆç†é—¨æ§›
  "min_indicator_consensus": 1,      // ä»2é™ä½åˆ°1
  "min_risk_reward": 1.5,            // ä¿æŒåˆç†å€¼
  "max_holding_hours": 12,           // è¶…çŸ­çº¿æœ€å¤§æŒä»“
  "min_consensus_score": 1           // V8.4æ–°å¢
}
```

**Swingå‚æ•°**ï¼š
```json
{
  "atr_tp_multiplier": 4.0,          // æ–°å¢/ä¿®å¤
  "atr_stop_multiplier": 1.5,        // æ ‡å‡†å€¼
  "min_signal_score": 60,            // ä»70é™ä½åˆ°60
  "min_indicator_consensus": 1,      // ä»2é™ä½åˆ°1
  "min_risk_reward": 2.0,            // ä»3.0é™ä½åˆ°2.0
  "max_holding_hours": 72,           // æ³¢æ®µæœ€å¤§æŒä»“
  "min_consensus_score": 1           // V8.4æ–°å¢
}
```

#### ä¿®å¤è„šæœ¬åŠŸèƒ½

```python
def fix_learning_config(model_name: str):
    """
    ä¿®å¤æŒ‡å®šæ¨¡å‹çš„ learning_config.json
    
    åŠŸèƒ½ï¼š
    1. è‡ªåŠ¨å¤‡ä»½åŸé…ç½®
    2. ä¿®å¤ scalping_params å’Œ swing_params
    3. æ›´æ–° last_update æ—¶é—´
    4. ä¿å­˜ä¿®å¤åçš„é…ç½®
    """
```

**æ”¯æŒæ¨¡å‹**ï¼š
- Qwen
- DeepSeek

---

### 2. æé«˜åŠ¨æ€ATRä¸Šé™

**æ–‡ä»¶**ï¼š`ds/calculate_actual_profit.py`

#### ä¿®æ”¹å†…å®¹

**ä¿®æ”¹å‰**ï¼ˆV8.4.9.3ï¼‰ï¼š
```python
if signal_type == 'scalping':
    # è¶…çŸ­çº¿ï¼š2.0-6.0å€ATR
    min_tp, max_tp = 2.0, 6.0
else:  # swing
    # æ³¢æ®µï¼š3.0-10.0å€ATR
    min_tp, max_tp = 3.0, 10.0
```

**ä¿®æ”¹å**ï¼ˆV8.5.1ï¼‰ï¼š
```python
if signal_type == 'scalping':
    # ã€V8.5.1ã€‘è¶…çŸ­çº¿ï¼š2.0-10.0å€ATRï¼ˆä¸Šé™ä»6.0æé«˜åˆ°10.0ï¼‰
    min_tp, max_tp = 2.0, 10.0
else:  # swing
    # ã€V8.5.1ã€‘æ³¢æ®µï¼š3.0-20.0å€ATRï¼ˆä¸Šé™ä»10.0æé«˜åˆ°20.0ï¼‰
    min_tp, max_tp = 3.0, 20.0
```

#### é¢„æœŸæ•ˆæœ

**ç¤ºä¾‹1ï¼šScalpingé«˜åˆ©æ¶¦æœºä¼š**
```
ä¿®æ”¹å‰ï¼š
  ç†è®º22.4% / ATR0.66% = 34.05 â†’ 70%=23.83 â†’ æœ€ç»ˆ=6.00ï¼ˆè¢«é™åˆ¶ï¼‰
  å®é™…åˆ©æ¶¦ = 6.0 Ã— 0.66% = 3.96%
  å®é™…/ç†è®º = 3.96% / 22.4% = 17.7%

ä¿®æ”¹åï¼š
  ç†è®º22.4% / ATR0.66% = 34.05 â†’ 70%=23.83 â†’ æœ€ç»ˆ=10.00ï¼ˆæé«˜ï¼‰
  å®é™…åˆ©æ¶¦ = 10.0 Ã— 0.66% = 6.6%
  å®é™…/ç†è®º = 6.6% / 22.4% = 29.5%
```

**ç¤ºä¾‹2ï¼šSwingé«˜åˆ©æ¶¦æœºä¼š**
```
ä¿®æ”¹å‰ï¼š
  ç†è®º40.9% / ATR1.85% = 22.16 â†’ 70%=15.51 â†’ æœ€ç»ˆ=10.00ï¼ˆè¢«é™åˆ¶ï¼‰
  å®é™…åˆ©æ¶¦ = 10.0 Ã— 1.85% = 18.5%
  å®é™…/ç†è®º = 18.5% / 40.9% = 45.2%

ä¿®æ”¹åï¼š
  ç†è®º40.9% / ATR1.85% = 22.16 â†’ 70%=15.51 â†’ æœ€ç»ˆ=15.51ï¼ˆä¸é™åˆ¶ï¼‰
  å®é™…åˆ©æ¶¦ = 15.51 Ã— 1.85% = 28.7%
  å®é™…/ç†è®º = 28.7% / 40.9% = 70.2%
```

---

## ğŸ“Š é¢„æœŸæ•ˆæœå¯¹æ¯”

### ä¿®å¤å‰ vs ä¿®å¤å

| æŒ‡æ ‡ | ä¿®å¤å‰ï¼ˆV8.5ï¼‰ | ä¿®å¤åï¼ˆV8.5.1ï¼‰ | æ”¹è¿› |
|------|---------------|-----------------|------|
| **Qwenæ•è·ç‡** | 12.9% | 80-100% | +600-700% |
| **DeepSeekæ•è·ç‡** | 100% | 100% | ä¿æŒ |
| **Scalpingå®é™…/ç†è®º** | 28.5% | 40-50% | +40-75% |
| **Swingå®é™…/ç†è®º** | 40.5% | 55-70% | +36-73% |
| **æ€»åˆ©æ¶¦** | 5.7-5.8% | 6-8%ï¼ˆé¢„ä¼°ï¼‰ | +5-38% |
| **ATRä¸Šé™ï¼ˆScalpingï¼‰** | 6.0x | 10.0x | +67% |
| **ATRä¸Šé™ï¼ˆSwingï¼‰** | 10.0x | 20.0x | +100% |

### è¯¦ç»†é¢„æœŸ

#### Qwen

**ä¿®å¤å‰**ï¼š
```
å‘ç°3380ä¸ªå®¢è§‚æœºä¼š
æ•è·435ä¸ª(12.9%) | å¹³å‡è·åˆ©5.7%
```

**ä¿®å¤åï¼ˆé¢„ä¼°ï¼‰**ï¼š
```
å‘ç°3380ä¸ªå®¢è§‚æœºä¼š
æ•è·2700-3380ä¸ª(80-100%) | å¹³å‡è·åˆ©6-7%
```

**åŸå› **ï¼š
- `atr_tp_multiplier`ä»1.5æé«˜åˆ°2.5/4.0
- `min_indicator_consensus`ä»2é™ä½åˆ°1
- `min_risk_reward`ä»3.0é™ä½åˆ°2.0
- å¤§é‡ä¹‹å‰è¢«è¿‡æ»¤çš„æœºä¼šç°åœ¨å¯ä»¥é€šè¿‡

---

#### DeepSeek

**ä¿®å¤å‰**ï¼š
```
å‘ç°3383ä¸ªå®¢è§‚æœºä¼š
æ•è·3383ä¸ª(100.0%) | å¹³å‡è·åˆ©5.8%
```

**ä¿®å¤åï¼ˆé¢„ä¼°ï¼‰**ï¼š
```
å‘ç°3383ä¸ªå®¢è§‚æœºä¼š
æ•è·3383ä¸ª(100.0%) | å¹³å‡è·åˆ©6.5-7.5%
```

**åŸå› **ï¼š
- æ•è·ç‡å·²ç»æ˜¯100%ï¼Œä¿æŒä¸å˜
- ä½†æ˜¯åŠ¨æ€ATRä¸Šé™æé«˜åï¼Œæ¯ä¸ªæœºä¼šçš„å®é™…åˆ©æ¶¦å¢åŠ 
- æ€»åˆ©æ¶¦ä»5.8%æå‡åˆ°6.5-7.5%

---

## ğŸ“ ä¿®æ”¹æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ–‡ä»¶

1. **`ds/fix_learning_config_v8_5_1.py`**ï¼ˆæ–°å¢ï¼‰
   - è‡ªåŠ¨ä¿®å¤è„šæœ¬
   - æ”¯æŒQwenå’ŒDeepSeek
   - è‡ªåŠ¨å¤‡ä»½åŸé…ç½®

2. **`ds/calculate_actual_profit.py`**
   - ç¬¬58-64è¡Œï¼šæé«˜åŠ¨æ€ATRä¸Šé™
   - Scalping: 6.0 â†’ 10.0
   - Swing: 10.0 â†’ 20.0

3. **`ds/V8.5.1_å‚æ•°ä¿®å¤ä¸ATRä¸Šé™æå‡æŠ¥å‘Š.md`**ï¼ˆæœ¬æ–‡ä»¶ï¼‰
   - å®Œæ•´å®æ–½æŠ¥å‘Š

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨

```bash
# æœ¬åœ°æ‰§è¡Œ
cd /Users/mac-bauyu/Downloads/10-23-bot/ds
scp fix_learning_config_v8_5_1.py calculate_actual_profit.py root@server:/root/10-23-bot/ds/
```

### 2. è¿è¡Œä¿®å¤è„šæœ¬

```bash
# æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd /root/10-23-bot/ds
python3 fix_learning_config_v8_5_1.py
```

**é¢„æœŸè¾“å‡º**ï¼š
```
============================================================
V8.5.1 ä¿®å¤ learning_config.json å‚æ•°
============================================================

============================================================
ä¿®å¤ QWEN çš„ learning_config.json
============================================================

âœ“ æˆåŠŸè¯»å–é…ç½®æ–‡ä»¶
âœ“ å·²å¤‡ä»½åˆ°: /root/10-23-bot/ds/trading_data/qwen/learning_config_backup_20251114_XXXXXX.json

ğŸ“Š ä¿®å¤ scalping_params...
   ä¿®æ”¹å‰: {'atr_tp_multiplier': 1.5, ...}
   ä¿®æ”¹å: {'atr_tp_multiplier': 2.5, ...}

ğŸ“Š ä¿®å¤ swing_params...
   ä¿®æ”¹å‰: {'min_risk_reward': 3.0, ...}
   ä¿®æ”¹å: {'atr_tp_multiplier': 4.0, 'min_risk_reward': 2.0, ...}

âœ… é…ç½®å·²ä¿å­˜: /root/10-23-bot/ds/trading_data/qwen/learning_config.json

============================================================
ä¿®å¤ DEEPSEEK çš„ learning_config.json
============================================================

âœ“ æˆåŠŸè¯»å–é…ç½®æ–‡ä»¶
âœ“ å·²å¤‡ä»½åˆ°: /root/10-23-bot/ds/trading_data/deepseek/learning_config_backup_20251114_XXXXXX.json

ğŸ“Š ä¿®å¤ scalping_params...
ğŸ“Š ä¿®å¤ swing_params...

âœ… é…ç½®å·²ä¿å­˜: /root/10-23-bot/ds/trading_data/deepseek/learning_config.json

============================================================
ä¿®å¤æ€»ç»“
============================================================
QWEN: âœ… æˆåŠŸ
DEEPSEEK: âœ… æˆåŠŸ

âœ… æ‰€æœ‰é…ç½®ä¿®å¤å®Œæˆï¼

ğŸ“ ä¿®å¤å†…å®¹ï¼š
   1. scalping_params:
      - atr_tp_multiplier: 2.5
      - atr_stop_multiplier: 1.5
      - min_signal_score: 60
      - min_indicator_consensus: 1
      - min_risk_reward: 1.5
      - max_holding_hours: 12

   2. swing_params:
      - atr_tp_multiplier: 4.0
      - atr_stop_multiplier: 1.5
      - min_signal_score: 60
      - min_indicator_consensus: 1
      - min_risk_reward: 2.0
      - max_holding_hours: 72

ğŸš€ ä¸‹ä¸€æ­¥ï¼š
   1. é‡å¯æœåŠ¡: bash ~/å¿«é€Ÿé‡å¯_ä¿®å¤ç‰ˆ.sh backtest
   2. è§‚å¯Ÿæ•è·ç‡æ˜¯å¦æå‡åˆ°80-100%
   3. è§‚å¯Ÿæ€»åˆ©æ¶¦æ˜¯å¦ä¿æŒåœ¨5-6%ä»¥ä¸Š

============================================================
```

### 3. éªŒè¯ä¿®å¤ç»“æœ

```bash
# æ£€æŸ¥Qwené…ç½®
cat /root/10-23-bot/ds/trading_data/qwen/learning_config.json | grep -A 10 "scalping_params\|swing_params"

# æ£€æŸ¥DeepSeeké…ç½®
cat /root/10-23-bot/ds/trading_data/deepseek/learning_config.json | grep -A 10 "scalping_params\|swing_params"
```

**é¢„æœŸçœ‹åˆ°**ï¼š
```json
"scalping_params": {
  "atr_tp_multiplier": 2.5,         â† âœ… æ­£ç¡®
  "min_indicator_consensus": 1,     â† âœ… æ­£ç¡®
  "min_risk_reward": 1.5,           â† âœ… æ­£ç¡®
  ...
}

"swing_params": {
  "atr_tp_multiplier": 4.0,         â† âœ… æ­£ç¡®
  "min_indicator_consensus": 1,     â† âœ… æ­£ç¡®
  "min_risk_reward": 2.0,           â† âœ… æ­£ç¡®
  ...
}
```

### 4. é‡å¯æœåŠ¡å¹¶å›æµ‹

```bash
# é‡å¯æœåŠ¡
bash ~/å¿«é€Ÿé‡å¯_ä¿®å¤ç‰ˆ.sh backtest
```

---

## ğŸ“Š è§‚å¯ŸæŒ‡æ ‡

### å…³é”®æŒ‡æ ‡

**1. æ•è·ç‡**

**ä¿®å¤å‰**ï¼š
```
Qwen:
  â€¢ æ—§å‚æ•°: æ•è·435ä¸ª(12.9%)
  â€¢ æ–°å‚æ•°: æ•è·435ä¸ª(12.9%)
```

**ä¿®å¤åï¼ˆé¢„æœŸï¼‰**ï¼š
```
Qwen:
  â€¢ æ—§å‚æ•°: æ•è·2700-3380ä¸ª(80-100%)
  â€¢ æ–°å‚æ•°: æ•è·2700-3380ä¸ª(80-100%)
```

---

**2. å®é™…/ç†è®ºåˆ©æ¶¦æ¯”ä¾‹**

**ä¿®å¤å‰**ï¼š
```
è¶…çŸ­çº¿å¯¹æ¯”:
   å®é™…/ç†è®º: 28.5%  ã€ç›®æ ‡: 50-70%ã€‘

æ³¢æ®µå¯¹æ¯”:
   å®é™…/ç†è®º: 40.5%  ã€ç›®æ ‡: 50-70%ã€‘
```

**ä¿®å¤åï¼ˆé¢„æœŸï¼‰**ï¼š
```
è¶…çŸ­çº¿å¯¹æ¯”:
   å®é™…/ç†è®º: 40-50%  ã€æ¥è¿‘ç›®æ ‡ã€‘

æ³¢æ®µå¯¹æ¯”:
   å®é™…/ç†è®º: 55-70%  ã€è¾¾åˆ°ç›®æ ‡ã€‘
```

---

**3. æ€»åˆ©æ¶¦**

**ä¿®å¤å‰**ï¼š
```
Qwen: 5.7%
DeepSeek: 5.8%
```

**ä¿®å¤åï¼ˆé¢„æœŸï¼‰**ï¼š
```
Qwen: 6.5-7.5%
DeepSeek: 6.5-7.5%
```

---

**4. åŠ¨æ€ATRå€æ•°åˆ†å¸ƒ**

**ä¿®å¤å‰**ï¼š
```
[1] ç†è®º22.4% â†’ æœ€ç»ˆ=6.00ï¼ˆè¢«é™åˆ¶ï¼‰
[2] ç†è®º20.9% â†’ æœ€ç»ˆ=6.00ï¼ˆè¢«é™åˆ¶ï¼‰
[3] ç†è®º40.9% â†’ æœ€ç»ˆ=10.00ï¼ˆè¢«é™åˆ¶ï¼‰
```

**ä¿®å¤åï¼ˆé¢„æœŸï¼‰**ï¼š
```
[1] ç†è®º22.4% â†’ æœ€ç»ˆ=10.00ï¼ˆä¸é™åˆ¶ï¼‰
[2] ç†è®º20.9% â†’ æœ€ç»ˆ=10.00ï¼ˆä¸é™åˆ¶ï¼‰
[3] ç†è®º40.9% â†’ æœ€ç»ˆ=15.51ï¼ˆä¸é™åˆ¶ï¼‰
```

---

## âœ… éªŒè¯æ¸…å•

### ä¿®å¤è„šæœ¬éªŒè¯

- [ ] è„šæœ¬æˆåŠŸè¿è¡Œ
- [ ] ä¸¤ä¸ªæ¨¡å‹çš„é…ç½®éƒ½å·²å¤‡ä»½
- [ ] `atr_tp_multiplier`å·²æ­£ç¡®è®¾ç½®ï¼ˆ2.5/4.0ï¼‰
- [ ] `min_indicator_consensus`å·²é™ä½åˆ°1
- [ ] `min_risk_reward`å·²è°ƒæ•´ï¼ˆ1.5/2.0ï¼‰
- [ ] `last_update`æ—¶é—´å·²æ›´æ–°

### ä»£ç ä¿®æ”¹éªŒè¯

- [ ] `calculate_actual_profit.py`å·²ä¿®æ”¹
- [ ] Scalpingä¸Šé™ä»6.0æé«˜åˆ°10.0
- [ ] Swingä¸Šé™ä»10.0æé«˜åˆ°20.0
- [ ] æ— è¯­æ³•é”™è¯¯

### å›æµ‹éªŒè¯

- [ ] Qwenæ•è·ç‡æå‡åˆ°80-100%
- [ ] DeepSeekæ•è·ç‡ä¿æŒ100%
- [ ] å®é™…/ç†è®ºåˆ©æ¶¦æ¯”ä¾‹æå‡
- [ ] æ€»åˆ©æ¶¦ä¿æŒæˆ–æå‡
- [ ] åŠ¨æ€ATRå€æ•°ä¸å†è¢«è¿‡åº¦é™åˆ¶

---

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

å¦‚æœä¿®å¤åæ•ˆæœä¸ä½³ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

```bash
# æ¢å¤Qwené…ç½®
cp /root/10-23-bot/ds/trading_data/qwen/learning_config_backup_*.json \
   /root/10-23-bot/ds/trading_data/qwen/learning_config.json

# æ¢å¤DeepSeeké…ç½®
cp /root/10-23-bot/ds/trading_data/deepseek/learning_config_backup_*.json \
   /root/10-23-bot/ds/trading_data/deepseek/learning_config.json

# æ¢å¤calculate_actual_profit.py
git checkout ds/calculate_actual_profit.py

# é‡å¯æœåŠ¡
bash ~/å¿«é€Ÿé‡å¯_ä¿®å¤ç‰ˆ.sh backtest
```

---

## ğŸ“ æ€»ç»“

### æ ¸å¿ƒæ”¹è¿›

1. **âœ… ä¿®å¤learning_config.jsonå‚æ•°**
   - Qwençš„`atr_tp_multiplier`ä»1.5æé«˜åˆ°2.5/4.0
   - è¿‡æ»¤æ¡ä»¶æ”¾å®½ï¼ˆ`min_indicator_consensus`ä»2é™åˆ°1ï¼‰
   - é¢„æœŸæ•è·ç‡ä»12.9%æå‡åˆ°80-100%

2. **âœ… æé«˜åŠ¨æ€ATRä¸Šé™**
   - Scalping: 6.0x â†’ 10.0x
   - Swing: 10.0x â†’ 20.0x
   - é¢„æœŸå®é™…/ç†è®ºåˆ©æ¶¦æ¯”ä¾‹ä»28.5-40.5%æå‡åˆ°40-70%

3. **âœ… è‡ªåŠ¨åŒ–ä¿®å¤**
   - åˆ›å»ºä¿®å¤è„šæœ¬ï¼Œæ”¯æŒä¸€é”®ä¿®å¤
   - è‡ªåŠ¨å¤‡ä»½åŸé…ç½®ï¼Œæ”¯æŒå¿«é€Ÿå›æ»š
   - åŒæ—¶ä¿®å¤Qwenå’ŒDeepSeek

### é¢„æœŸæ•ˆæœ

| æŒ‡æ ‡ | æ”¹è¿›å¹…åº¦ |
|------|---------|
| **Qwenæ•è·ç‡** | +600-700% |
| **å®é™…/ç†è®ºåˆ©æ¶¦æ¯”ä¾‹** | +36-75% |
| **æ€»åˆ©æ¶¦** | +5-38% |
| **ATRä¸Šé™** | +67-100% |

### ä¸‹ä¸€æ­¥

1. **ç«‹å³éƒ¨ç½²**ï¼šä¸Šä¼ æ–‡ä»¶å¹¶è¿è¡Œä¿®å¤è„šæœ¬
2. **å›æµ‹éªŒè¯**ï¼šè§‚å¯Ÿæ•è·ç‡å’Œåˆ©æ¶¦æ˜¯å¦è¾¾åˆ°é¢„æœŸ
3. **å®ç›˜è§‚å¯Ÿ**ï¼šç¡®ä¿å®ç›˜ç­–ç•¥ä¹Ÿä½¿ç”¨äº†æ­£ç¡®çš„å‚æ•°

---

**å®æ–½å®Œæˆæ—¶é—´**: 2025-11-14  
**ç‰ˆæœ¬**: V8.5.1  
**çŠ¶æ€**: âœ… å·²å®Œæˆï¼Œå¾…éƒ¨ç½²éªŒè¯

