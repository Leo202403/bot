ğŸš€ ç«‹å³ä¿®å¤å¹¶éƒ¨ç½²V8.3.21å›æµ‹ä¼˜åŒ–å™¨

==================================================================
ğŸ“‹ é—®é¢˜
==================================================================

V8.3.21ä¼˜åŒ–å™¨å¤±è´¥: KeyError: 'signal_score'

åŸå› : analyze_separated_opportunitiesç”Ÿæˆçš„æœºä¼šæ•°æ®ç¼ºå°‘å¿…è¦å­—æ®µ

==================================================================
âœ… å·²ä¿®å¤
==================================================================

æ·»åŠ äº†6ä¸ªå¿…è¦å­—æ®µ:
1. signal_score - ä¿¡å·è´¨é‡è¯„åˆ†
2. kline_ctx_bullish_ratio - Kçº¿é˜³çº¿æ¯”ä¾‹
3. kline_ctx_price_chg_pct - ä»·æ ¼å˜åŒ–å¹…åº¦
4. mkt_struct_swing - å¸‚åœºç»“æ„
5. sr_hist_test_count - æ”¯æ’‘é˜»åŠ›æµ‹è¯•æ¬¡æ•°
6. sr_hist_avg_reaction - å¹³å‡ååº”å¼ºåº¦

==================================================================
ğŸš€ ä¸€é”®éƒ¨ç½²ï¼ˆåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼‰
==================================================================

cd /root/10-23-bot && \
git pull origin main && \
python3 -m py_compile ds/qwen_å¤šå¸ç§æ™ºèƒ½ç‰ˆ.py && \
python3 -m py_compile ds/deepseek_å¤šå¸ç§æ™ºèƒ½ç‰ˆ.py && \
supervisorctl restart qwen deepseek && \
sleep 3 && \
supervisorctl status && \
bash ~/å¿«é€Ÿé‡å¯_ä¿®å¤ç‰ˆ.sh backtest

==================================================================
ğŸ“Š é¢„æœŸè¾“å‡ºï¼ˆV8.3.21æ­£å¸¸å·¥ä½œï¼‰
==================================================================

ã€ç¬¬4.6æ­¥ï¼šåˆ†ç¦»ç­–ç•¥ä¼˜åŒ–ï¼ˆV8.3.12ï¼‰ã€‘
  ğŸ“Š åˆ†æå†å²å¿«ç…§: 9170æ¡è®°å½•
  ğŸ’¾ å†…å­˜ä¼˜åŒ–æ¨¡å¼: å…¨ç‚¹ä½åˆ†æ + æ‘˜è¦æ•°æ®ï¼ˆé¢„è®¡<1GBï¼Œä¿è¯ä¸é—æ¼ï¼‰
  âœ“ [1/7] BNB å®Œæˆ (scalping:202 swing:923)
  âœ“ [2/7] BTC å®Œæˆ (scalping:193 swing:937)
  âœ“ [3/7] DOGE å®Œæˆ (scalping:181 swing:954)
  âœ“ [4/7] ETH å®Œæˆ (scalping:200 swing:938)
  âœ“ [5/7] LTC å®Œæˆ (scalping:191 swing:980)
  âœ“ [6/7] SOL å®Œæˆ (scalping:161 swing:989)
  âœ“ [7/7] XRP å®Œæˆ (scalping:198 swing:946)

  âš¡ è¶…çŸ­çº¿æœºä¼š: 1326ä¸ªï¼ˆå·²ä¼˜åŒ–ï¼‰
  ğŸŒŠ æ³¢æ®µæœºä¼š: 2000ä¸ªï¼ˆå·²ä¼˜åŒ–ï¼‰

  âš¡ ä¼˜åŒ–è¶…çŸ­çº¿å‚æ•°...
     â„¹ï¸  ä½¿ç”¨V7.7.0åˆå§‹å‚æ•°: R:R=4.9, å…±è¯†=3

  ğŸš€ ã€V8.3.21ã€‘ä½¿ç”¨å¢å¼ºä¼˜åŒ–å™¨ï¼ˆ1326ä¸ªæœºä¼šï¼‰
     â€¢ 11ç»´åº¦å‚æ•°æœç´¢
     â€¢ 4å±‚ä¸Šä¸‹æ–‡è¿‡æ»¤
     â€¢ æˆæœ¬ä¼˜åŒ–ï¼ˆèŠ‚çœ89%ï¼‰
   â„¹ï¸  å·²è®¾ç½®è¿›ç¨‹ä¼˜å…ˆçº§ï¼ˆnice=10ï¼‰ï¼Œé¿å…å½±å“å®æ—¶AI

============================================================
ã€V8.3.21å›æµ‹ä¼˜åŒ–ã€‘è½»é‡çº§å‚æ•°æœç´¢ï¼ˆscalpingï¼‰
  æœºä¼šæ•°: 1326
  æµ‹è¯•ç»„æ•°: 200
  èµ„æºç›‘æ§: ä¸å¯ç”¨ï¼ˆpsutilæœªå®‰è£…ï¼‰
============================================================

ğŸ“Š é˜¶æ®µ1: å®šä¹‰æœç´¢ç©ºé—´...
   âœ… æœç´¢ç©ºé—´å®šä¹‰å®Œæˆ
      ç†è®ºç»„åˆæ•°: 23328ç»„
      å®é™…æµ‹è¯•æ•°: 200ç»„ï¼ˆéšæœºé‡‡æ ·ï¼‰

ğŸ” é˜¶æ®µ2: éšæœºé‡‡æ ·Grid Search...
   è¿›åº¦: 50/200...
   è¿›åº¦: 100/200...
   è¿›åº¦: 150/200...
   è¿›åº¦: 200/200...
   âœ… æµ‹è¯•å®Œæˆ
      æœ€ä½³ç»“æœ: expectancy=2.3, PLR=2.1, capture=45%
      ç»¼åˆå¾—åˆ†: 0.8562

ğŸ¤– é˜¶æ®µ3: AIè¿­ä»£ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰...
   âœ… AIå»ºè®®: è°ƒæ•´TPå€æ•°åˆ°0.55Ã—ATR
      é¢„æœŸæå‡: +0.12ç»¼åˆå¾—åˆ†

============================================================
ã€V8.3.21ä¼˜åŒ–ç»“æœã€‘
  âœ… æ‰¾åˆ°æœ€ä¼˜å‚æ•°é…ç½®
     min_risk_reward: 3.2
     min_signal_score: 65
     min_consensus: 3
     atr_stop_multiplier: 1.8
     tp_multiplier: 0.55
     max_holding_hours: 6
     
  ğŸ“Š é¢„æœŸè¡¨ç°:
     æœŸæœ›æ”¶ç›Š: +2.3%
     ç›ˆäºæ¯”: 2.1:1
     æ•è·ç‡: 45%
     ç»¼åˆå¾—åˆ†: 0.8562
============================================================

  âœ… è¶…çŸ­çº¿ä¼˜åŒ–å®Œæˆ

==================================================================
ğŸ¯ ä¿®å¤éªŒè¯æ¸…å•
==================================================================

- [ ] ä»£ç å·²æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
- [ ] è¯­æ³•æ£€æŸ¥é€šè¿‡
- [ ] Qwenå’ŒDeepSeekæœåŠ¡æ­£å¸¸è¿è¡Œ
- [ ] å›æµ‹èƒ½æ­£å¸¸å¯åŠ¨
- [ ] çœ‹åˆ°"ğŸš€ ã€V8.3.21ã€‘ä½¿ç”¨å¢å¼ºä¼˜åŒ–å™¨"
- [ ] æ²¡æœ‰çœ‹åˆ°"âŒ V8.3.21ä¼˜åŒ–å¤±è´¥"
- [ ] çœ‹åˆ°"11ç»´åº¦å‚æ•°æœç´¢"
- [ ] çœ‹åˆ°"4å±‚ä¸Šä¸‹æ–‡è¿‡æ»¤"
- [ ] V8.3.21é˜¶æ®µ1ã€2ã€3éƒ½æ­£å¸¸æ‰§è¡Œ
- [ ] å›æµ‹é¡ºåˆ©å®Œæˆ
- [ ] æ”¶åˆ°Bark/é‚®ä»¶é€šçŸ¥

==================================================================
âš ï¸ å¦‚æœä»ç„¶å¤±è´¥
==================================================================

1. **æ£€æŸ¥æ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯**
   ```bash
   tail -50 /var/log/supervisor/qwen-stdout.log
   ```

2. **éªŒè¯ä»£ç ç‰ˆæœ¬**
   ```bash
   cd /root/10-23-bot && git log --oneline -5
   # åº”è¯¥çœ‹åˆ°: e8dacca æ·»åŠ V8.3.21å›æµ‹ä¼˜åŒ–å™¨ä¿®å¤è¯´æ˜æ–‡æ¡£
   ```

3. **æ‰‹åŠ¨éªŒè¯è¯­æ³•**
   ```bash
   python3 -m py_compile ds/qwen_å¤šå¸ç§æ™ºèƒ½ç‰ˆ.py
   python3 -m py_compile ds/deepseek_å¤šå¸ç§æ™ºèƒ½ç‰ˆ.py
   ```

4. **æŸ¥çœ‹è¯¦ç»†é”™è¯¯å †æ ˆ**
   - æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å…¶ä»–ç¼ºå¤±å­—æ®µ
   - æŸ¥çœ‹é”™è¯¯å‘ç”Ÿçš„å…·ä½“ä½ç½®

==================================================================
ğŸ’¡ V8.3.21 ä¼˜åŠ¿
==================================================================

ç›¸æ¯”æ—§ç‰ˆGrid Search:

âœ… **æ›´å…¨é¢çš„å‚æ•°ç©ºé—´**
   - æ—§ç‰ˆ: 3ç»´ï¼ˆR:R, consensus, ATRï¼‰
   - æ–°ç‰ˆ: 11ç»´ï¼ˆ+signal_score, +Kçº¿ä¸Šä¸‹æ–‡, +å¸‚åœºç»“æ„, +SRå†å²ç­‰ï¼‰

âœ… **æ›´æ™ºèƒ½çš„è¿‡æ»¤**
   - æ—§ç‰ˆ: å•å±‚åŸºç¡€è¿‡æ»¤
   - æ–°ç‰ˆ: 4å±‚ä¸Šä¸‹æ–‡è¿‡æ»¤ï¼ˆåªä¿ç•™é«˜è´¨é‡æœºä¼šï¼‰

âœ… **æ›´ç²¾å‡†çš„è¯„åˆ†**
   - æ—§ç‰ˆ: ç®€å•çš„èƒœç‡Ã—ç›ˆäºæ¯”
   - æ–°ç‰ˆ: æœŸæœ›æ”¶ç›Š(40%) + ç›ˆäºæ¯”(30%) + æ•è·ç‡(20%) - å›æ’¤(10%)

âœ… **AIè¾…åŠ©ä¼˜åŒ–**
   - æ—§ç‰ˆ: æ— 
   - æ–°ç‰ˆ: å¯é€‰AIè¿­ä»£ï¼Œæˆæœ¬èŠ‚çœ89%

âœ… **åˆ©æ¶¦æœ€å¤§åŒ–**
   - æ—§ç‰ˆ: å¤šç›®æ ‡å¹³è¡¡
   - æ–°ç‰ˆ: æ˜ç¡®çš„"æœ€å¤§åˆ©æ¶¦+æœ€å°æŸå¤±"ç›®æ ‡

==================================================================
ğŸ“š å‚è€ƒæ–‡æ¡£
==================================================================

è¯¦ç»†è¯´æ˜: ds/V8.3.21å›æµ‹ä¼˜åŒ–å™¨ä¿®å¤è¯´æ˜.md
å†…å­˜ä¼˜åŒ–: ds/å›æµ‹å†…å­˜ä¼˜åŒ–è¯´æ˜.txt
å®Œæ•´æŠ¥å‘Š: ds/V8.3.21å†…å­˜ä¼˜åŒ–å®ŒæˆæŠ¥å‘Š.md

==================================================================
âœ¨ éƒ¨ç½²å®Œæˆå
==================================================================

1. **è§‚å¯Ÿå›æµ‹è¾“å‡º**
   - V8.3.21åº”è¯¥æ­£å¸¸å·¥ä½œ
   - ä¸ä¼šå†é™çº§åˆ°æ—§ç‰ˆGrid Search
   - çœ‹åˆ°11ç»´å‚æ•°æœç´¢å’Œ4å±‚è¿‡æ»¤

2. **æŸ¥çœ‹ä¼˜åŒ–ç»“æœ**
   - é‚®ç®±ä¸­ä¼šæ”¶åˆ°è¯¦ç»†çš„å‚æ•°æŠ¥å‘Š
   - Barkæ¨é€é€šçŸ¥
   - learning_config.jsonå·²æ›´æ–°

3. **éªŒè¯å‚æ•°åº”ç”¨**
   ```bash
   cat trading_data/qwen/learning_config.json | grep -A 10 scalping_params
   cat trading_data/deepseek/learning_config.json | grep -A 10 scalping_params
   ```

éƒ¨ç½²å®Œæˆï¼ğŸ‰

