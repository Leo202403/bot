# V8.5.2.4.88 修复依赖问题

## 问题
回测时报错：`ModuleNotFoundError: No module named 'schedule'`

## 解决方案

### 1. 激活虚拟环境并安装缺失模块
```bash
cd ~/10-23-bot
source venv/bin/activate

# 安装缺失的模块
pip install schedule
```

### 2. 如果需要安装所有依赖（推荐）
```bash
cd ~/10-23-bot
source venv/bin/activate

# 安装所有依赖
pip install schedule openai ccxt pandas numpy python-dotenv requests scipy typing-extensions
```

### 3. 验证安装
```bash
python3 -c "import schedule; print('✅ schedule 安装成功')"
```

### 4. 重新运行回测
```bash
cd ~/10-23-bot/ds
MANUAL_BACKTEST=true python3 deepseek_多币种智能版.py backtest-deepseek
```

## 完整操作流程

```bash
# 1. 停止服务
supervisorctl stop deepseek qwen

# 2. 拉取最新代码
cd ~/10-23-bot && git pull

# 3. 激活虚拟环境
source venv/bin/activate

# 4. 安装缺失模块
pip install schedule

# 5. 运行回测
cd ~/10-23-bot/ds
MANUAL_BACKTEST=true python3 deepseek_多币种智能版.py backtest-deepseek

# 6. 回测完成后重启服务
supervisorctl start deepseek qwen
```

## 快速修复命令（复制粘贴）

```bash
supervisorctl stop deepseek qwen && \
cd ~/10-23-bot && \
git pull && \
source venv/bin/activate && \
pip install schedule && \
cd ~/10-23-bot/ds && \
MANUAL_BACKTEST=true python3 deepseek_多币种智能版.py backtest-deepseek
```

## 注意事项

1. **虚拟环境**：确保在虚拟环境中安装依赖
   - 检查方法：`which python3` 应该显示 `/root/10-23-bot/venv/bin/python3`
   
2. **权限问题**：如果遇到权限问题，确保使用root用户或sudo

3. **网络问题**：如果pip安装失败，可以使用国内镜像：
   ```bash
   pip install -i https://pypi.tuna.tsinghua.edu.cn/simple schedule
   ```

4. **回测完成后**：记得重启服务
   ```bash
   supervisorctl start deepseek qwen
   ```

